(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{228:function(t,e,s){"use strict";s.r(e);var r=s(7),i=(s(10),s(9),s(36)),n=s(2),a=s(239);function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function c(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(s,!0).forEach((function(e){l(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var u={mixins:[i.b],computed:c({breadcrumbs:a.a.make("tours.list")},Object(n.b)([{name:"list.fetch",process:"tours@list.fetch"}])),data:function(){return{items:[],pagination:null}},created:function(){this.$listenCycle("tours@list.fetch",this.list)},beforeRouteEnter:function(t,e,s){return s((function(e){return regeneratorRuntime.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(e.$filters("tours").restoreFromUrl(t.name));case 2:e.lock(e.list());case 3:case"end":return s.stop()}}))}))},methods:c({formatIdentifiers:function(t){return t.bookeo_id?Array.isArray(t.bookeo_id)?t.bookeo_id.join("|"):t.bookeo_id:""},onClickCreate:function(){this.$router.push({name:"tours.create"})},fill:function(t){this.items=t.items,this.pagination=t.pagination},close:function(){this.$router.push({name:"tours.list"})},onChangePage:function(t){this.$filters("tours").data.page=t,this.list()}},Object(r.mapActions)("tours",{list:function(t){var e;return regeneratorRuntime.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(t("list"));case 2:e=s.sent,this.fill(e);case 4:case"end":return s.stop()}}),null,this)}}))},d=s(1),f=Object(d.a)(u,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{locked:t.locked,breadcrumbs:t.breadcrumbs},on:{"close-sidebar":t.close},scopedSlots:t._u([{key:"actions",fn:function(){return[s("div",{staticClass:"o-layout__header-actions"},[t.$can("tours.create")?s("div",{staticClass:"o-layout__header-group"},[s("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.onClickCreate}},[t._v(t._s(t.$t("Create tour"))+"\n                ")])],1):t._e()])]},proxy:!0},{key:"content",fn:function(e){var r=e.locked;return[s("v-scroll",{staticClass:"col-xl-6",attrs:{locked:r}},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"pt-20"},[s("v-search-panel",{on:{search:t.list},model:{value:t.$filters("tours").data.term,callback:function(e){t.$set(t.$filters("tours").data,"term",e)},expression:"$filters('tours').data.term"}})],1)]),t._v(" "),s("v-content-list",{staticClass:"col-inner",attrs:{items:t.items,pagination:t.pagination},on:{"change-page":t.onChangePage},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.item;return[s("v-list-item",{key:r.id,attrs:{data:r,route:{name:"tours.view",params:{tourId:r.id}},"title-by":"name","description-by":t.formatIdentifiers},scopedSlots:t._u([{key:"aside",fn:function(){return[s("div",{staticClass:"c-list__aside-item"},[s("div",{staticClass:"c-list__aside-text"},[t._v(t._s(t.$t("Users"))+":")])]),t._v(" "),s("div",{staticClass:"c-list__aside-item"},[s("el-tag",{attrs:{size:"small"}},[t._v(t._s(r.users_count))])],1),t._v(" "),s("div",{staticClass:"c-list__aside-item"},[s("div",{staticClass:"c-list__aside-text"},[t._v(t._s(t.$t("Options"))+":")])]),t._v(" "),s("div",{staticClass:"c-list__aside-item"},[s("el-tag",{attrs:{size:"small"}},[t._v(t._s(r.tour_options_count))])],1)]},proxy:!0}],null,!0)})]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"col-xl-6 d-none d-xl-flex u-border-left"},[s("div",{staticClass:"c-aside-icon"},[s("div",{staticClass:"c-aside-icon__inner"},[s("i",{staticClass:"icon fal fa-landmark"}),t._v(" "),s("div",{staticClass:"title"},[t._v(t._s(t.$t("Tours")))])])])])]}}])})}),[],!1,null,null,null);e.default=f.exports},239:function(t,e,s){"use strict";var r=s(23),i=s(6);r.b.register("tours.list",(function(t){t.push(Object(i.$t)("Tours"),"tours.list")})),r.b.register("tours.view",(function(t,e){t.parent("tours.list"),t.push(e.name,{name:"tours.view",params:{tourId:e.id}})})),e.a=r.b}}]);