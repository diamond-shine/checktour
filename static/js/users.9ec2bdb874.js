(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{234:function(e,t,r){"use strict";r.r(t);var s=r(7),n=r(10),a=r(9),o=r(2);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(r,!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={data:function(){return{items:[],pagination:null}},computed:l({breadcrumbs:r(241).a.make("users.list")},Object(o.b)([{name:"list",process:"users@list",deep:!0}])),beforeRouteEnter:function(e,t,r){var s;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(a.a)("users").restoreFromUrl(e.name));case 2:return t.next=4,regeneratorRuntime.awrap(n.default.dispatch("users/list"));case 4:s=t.sent,r((function(e){return e.fill(s)}));case 6:case"end":return t.stop()}}))},created:function(){var e=this;this.$ee.on("users@list.fetch",this.list),this.$once("hook:destroyed",(function(){return e.$ee.off("users@list.fetch")}))},destroyed:function(){this.$filters("users").clear()},methods:l({rolesViewing:function(e){var t=e.roles.map((function(e){return e.title}));return e.is_admin&&t.unshift(this.$t("Admin")),t.join(" | ")},fill:function(e){this.$data.items=e.items,this.$data.pagination=e.pagination},close:function(){this.$router.push({name:"users.list"})},onClickCreate:function(){this.$router.push({name:"users.create"})},onChangePage:function(e){this.$filters("users").data.page=e,this.list()}},Object(s.mapActions)("users",{list:function(e){return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,regeneratorRuntime.awrap(e("list"));case 3:t.t1=t.sent,t.t0.fill.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),null,this)}}))},f=r(1),m=Object(f.a)(u,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{breadcrumbs:e.breadcrumbs},on:{"close-sidebar":e.close},scopedSlots:e._u([{key:"actions",fn:function(){return[r("div",{staticClass:"o-layout__header-actions"},[e.$can("users.create")?r("div",{staticClass:"o-layout__header-group"},[r("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.onClickCreate}},[e._v(e._s(e.$t("Create user"))+"\n                ")])],1):e._e()])]},proxy:!0},{key:"content",fn:function(){return[r("v-scroll",{staticClass:"col-xl-6"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"pt-20"},[r("v-search-panel",{on:{search:e.list},model:{value:e.$filters("users").data.term,callback:function(t){e.$set(e.$filters("users").data,"term",t)},expression:"$filters('users').data.term"}})],1)]),e._v(" "),r("v-list",{staticClass:"col-inner",attrs:{items:e.items,pagination:e.pagination,loading:e.psList},on:{"change-page":e.onChangePage},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.item;return[r("v-list-item",{key:s.id,attrs:{data:s,route:{name:"users.view",params:{userId:s.id}},"title-by":"full_name","description-by":"email"},scopedSlots:e._u([{key:"aside",fn:function(){return[e.rolesViewing(s)?r("div",{staticClass:"c-list__aside-item"},[r("el-tag",{attrs:{size:"small"}},[e._v(e._s(e.rolesViewing(s)))])],1):e._e()]},proxy:!0}],null,!0)})]}}])})],1),e._v(" "),r("div",{staticClass:"col-xl-6 d-none d-xl-flex u-border-left"},[r("div",{staticClass:"c-aside-icon"},[r("div",{staticClass:"c-aside-icon__inner"},[r("i",{staticClass:"icon c-icon-user"}),e._v(" "),r("div",{staticClass:"title"},[e._v(e._s(e.$t("Users")))])])])])]},proxy:!0}])})}),[],!1,null,null,null);t.default=m.exports},235:function(e,t,r){"use strict";r.r(t);var s=r(7),n=r(10),a=r(2),o=r(241);function i(e,t){if(null==e)return{};var r,s,n=function(e,t){if(null==e)return{};var r,s,n={},a=Object.keys(e);for(s=0;s<a.length;s++)r=a[s],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(r,!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={form:{current:"user",clearable:!0},components:{ModelForm:r(250).a},data:function(){return{permissions:[],leaf_only_permissions:null,roles:[]}},computed:c({breadcrumbs:o.a.make("users.create")},Object(a.b)([{name:"create",process:"users@create.store"}])),beforeRouteEnter:function(e,t,r){var s,a,o;return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(n.default.dispatch("users/create"));case 2:s=e.sent,a=s.form,o=i(s,["form"]),r((function(e){e.$thisForm().setData(a),e.fill(o)}));case 6:case"end":return e.stop()}}))},methods:c({fill:function(e){this.$data.permissions=e.permissions,this.$data.leaf_only_permissions=e.leaf_only_permissions,this.$data.roles=e.roles},cancel:function(){this.$thisForm().restore(),this.$router.push({name:"users.list"})},onClickCreate:function(){this.$router.push({name:"users.create"})}},Object(s.mapActions)("users",{store:function(e){var t,r,s,n;return regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t={form:this.$thisForm()}).form.data.login||(t.form.data.login=t.form.data.email.replace(/\W/g,"")),a.next=4,regeneratorRuntime.awrap(e("store",t));case 4:return r=a.sent,s=r.form,n=r.user,a.next=9,regeneratorRuntime.awrap(this.$thisForm().setData(s));case 9:this.$router.push({name:"users.view",params:{userId:n.id}});case 10:case"end":return a.stop()}}),null,this)}}))},m=r(1),p=Object(m.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{breadcrumbs:e.breadcrumbs},on:{"close-sidebar":e.onClickCreate},scopedSlots:e._u([{key:"actions",fn:function(){return[r("div",{staticClass:"o-layout__header-actions"},[r("div",{staticClass:"o-layout__header-group"},[r("el-button",{attrs:{disabled:e.psCreate,size:"small",type:"success"},on:{click:e.store}},[e._v(e._s(e.$t("Create"))+"\n                ")]),e._v(" "),r("el-button",{attrs:{disabled:e.psCreate,size:"small",type:"default"},on:{click:e.cancel}},[e._v(e._s(e.$t("Cancel"))+"\n                ")])],1)])]},proxy:!0},{key:"content",fn:function(){return[r("v-scroll",[r("div",{staticClass:"col-12 u-bg"},[r("div",{staticClass:"col-inner"},[r("model-form",{attrs:{form:e.$thisForm(),permissions:e.permissions,"leaf-only-permissions":e.leaf_only_permissions,roles:e.roles},on:{submit:e.store}})],1)])])]},proxy:!0}])})}),[],!1,null,null,null);t.default=p.exports},236:function(e,t,r){"use strict";r.r(t);var s=r(7),n=r(10),a=r(241),o=r(2);function i(e,t){if(null==e)return{};var r,s,n=function(e,t){if(null==e)return{};var r,s,n={},a=Object.keys(e);for(s=0;s<a.length;s++)r=a[s],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(r,!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={form:{current:"user",clearable:!0},components:{ModelForm:r(250).a},data:function(){return{user:null,permissions:[],leaf_only_permissions:null,roles:[]}},computed:c({breadcrumbs:function(){if(this.$data.user&&this.$can("users.view"))return a.a.generate("users.edit",{user:this.$data.user})}},Object(o.b)([{name:"edit",process:"users@edit",deep:!0}])),beforeRouteEnter:function(e,t,r){var s,a,o,l,u;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(n.default.dispatch("users/edit",{userId:e.params.userId}));case 2:s=t.sent,a=s.form,o=a.telephone,l=i(a,["telephone"]),u=i(s,["form"]),r((function(e){e.$thisForm().setData(c({},l,{telephone:{number:null==o?void 0:o.international}})),e.fill(u)}));case 8:case"end":return t.stop()}}))},methods:c({fill:function(e){this.$data.user=e.user,this.$data.permissions=e.permissions,this.$data.leaf_only_permissions=e.leaf_only_permissions,this.$data.roles=e.roles},cancel:function(){this.$thisForm().restore(),this.$router.push({name:"users.list"})}},Object(s.mapActions)("users",{update:function(e){var t,r,s,n;return regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(e("update",{userId:this.$data.user.id,form:this.$thisForm()}));case 2:t=a.sent,r=t.form,s=r.telephone,n=i(r,["telephone"]),this.$thisForm().setData(c({},n,{telephone:{number:null==s?void 0:s.international}}));case 7:case"end":return a.stop()}}),null,this)}}))},m=r(1),p=Object(m.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{breadcrumbs:e.breadcrumbs},scopedSlots:e._u([{key:"actions",fn:function(){return[r("el-button",{attrs:{loading:e.psEdit,size:"small",type:"success"},on:{click:e.update}},[e._v(e._s(e.$t("Save"))+"\n        ")]),e._v(" "),r("el-button",{attrs:{loading:e.psEdit,size:"small",type:"default"},on:{click:e.cancel}},[e._v(e._s(e.$t("Cancel"))+"\n        ")])]},proxy:!0},{key:"content",fn:function(){return[r("v-scroll",[r("div",{staticClass:"col-12 u-bg"},[r("div",{staticClass:"col-inner"},[r("model-form",{attrs:{form:e.$thisForm(),permissions:e.permissions,"leaf-only-permissions":e.leaf_only_permissions,roles:e.roles},on:{submit:e.update}})],1)])])]},proxy:!0}])})}),[],!1,null,null,null);t.default=p.exports},237:function(e,t,r){"use strict";r.r(t);var s=r(2),n=r(7),a=r(10);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(r,!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={data:function(){return{user:null,view:null}},computed:i({},Object(s.b)([{name:"view",process:"users@view",deep:!0}])),beforeRouteEnter:function(e,t,r){var s;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(a.default.dispatch("users/view",{userId:e.params.userId}));case 2:s=t.sent,r((function(e){return e.fill(s)}));case 4:case"end":return t.stop()}}))},methods:i({fill:function(e){this.$data.user=e.user,this.$data.view=e.view}},Object(n.mapActions)("users",{destroy:function(e){return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.$vConfirmDelete(this.$t("Delete user?")));case 2:return t.next=4,regeneratorRuntime.awrap(e("destroy",{userId:this.$routeParam("userId")}));case 4:this.$ee.emit("users@list.fetch"),this.$router.push({name:"users.list"});case 6:case"end":return t.stop()}}),null,this)}}))},u=r(1),f=Object(u.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-sidebar-layout",{attrs:{loading:e.psView},scopedSlots:e._u([{key:"header",fn:function(){return[r("v-sidebar-layout-header",{attrs:{title:e.$t("User profile"),"back-route":{name:"users.list"}},scopedSlots:e._u([{key:"right",fn:function(){return[e.$can("users.edit")?r("router-link",{staticClass:"btn",attrs:{to:{name:"users.edit",params:{userId:e.$routeParam("userId")}},title:e.$t("Edit"),"aria-label":e.$t("Edit"),disabled:e.psView}},[r("i",{staticClass:"icon fal fa-edit"})]):e._e()]},proxy:!0}])})]},proxy:!0},e.view?{key:"body",fn:function(){return[r("v-form-preview",{attrs:{label:e.$t("First name, last name"),value:e.view.full_name}}),e._v(" "),r("v-form-preview",{attrs:{label:e.$t("Email")}},[e._v(e._s(e.view.email)),r("a",{attrs:{href:"mailto:"+e.view.email}},[r("i",{staticClass:"c-icon-letter"})])]),e._v(" "),r("v-form-preview",{attrs:{label:e.$t("Roles"),value:e.view.roles||null,"no-value":e.$t("Not set")}})]},proxy:!0}:null,{key:"footer",fn:function(){return[e.$can("users.delete")?r("button",{staticClass:"c-delete-btn",attrs:{type:"button"},on:{click:e.destroy}},[r("i",{staticClass:"icon fal fa-trash-alt",attrs:{"aria-hidden":"true"}}),e._v(" "),r("span",{staticClass:"title"},[e._v(e._s(e.$t("Delete user")))])]):e._e()]},proxy:!0}],null,!0)})}),[],!1,null,null,null);t.default=f.exports},238:function(e,t,r){"use strict";r.r(t);var s=r(2),n=r(7),a=r(10);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(r,!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={form:{current:"user-invite",clearable:!0},data:function(){return{roles:[],permissions:[]}},computed:i({},Object(s.b)([{name:"send",process:"users@invite.send"}])),beforeRouteEnter:function(e,t,r){var s;return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(a.default.dispatch("users/invite/fetch"));case 2:s=e.sent,r((function(e){e.fill(s),e.$thisForm().setData({roles:[],permissions:[]})}));case 4:case"end":return e.stop()}}))},methods:i({fill:function(e){this.$data.roles=e.roles,this.$data.permissions=e.permissions},cancel:function(){this.$router.push({name:"users.list"})},syncPermissions:function(){this.$thisForm().fill({permissions:this.$refs.permissions.getCheckedKeys(!0)})}},Object(n.mapActions)("users/invite",{invite:function(e){return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(e("send",{form:this.$thisForm()}));case 2:this.$router.push({name:"users.list"});case 3:case"end":return t.stop()}}),null,this)}}))},u=r(1),f=Object(u.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-sidebar-layout",{attrs:{loading:e.psSend},scopedSlots:e._u([{key:"header",fn:function(){return[r("v-sidebar-layout-header",{attrs:{title:e.$t("Invite user"),"back-route":{name:"users.list"}}})]},proxy:!0},{key:"body",fn:function(){return[r("el-form",{attrs:{"label-position":"top"}},[r("el-form-item",{attrs:{label:e.$t("E-mail"),error:e.$thisForm().formatErrors("email")}},[r("el-input",{attrs:{type:"email"},model:{value:e.$thisForm("data").email,callback:function(t){e.$set(e.$thisForm("data"),"email",t)},expression:"$thisForm('data').email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("Login"),error:e.$thisForm().formatErrors("login")}},[r("el-input",{model:{value:e.$thisForm("data").login,callback:function(t){e.$set(e.$thisForm("data"),"login",t)},expression:"$thisForm('data').login"}})],1),e._v(" "),e.$can("users.invite.as-admin")?r("el-form-item",{staticClass:"el-form-item--inline",attrs:{label:e.$t("Provide admin rights"),error:e.$thisForm().formatErrors("as_admin")}},[r("el-switch",{model:{value:e.$thisForm("data").as_admin,callback:function(t){e.$set(e.$thisForm("data"),"as_admin",t)},expression:"$thisForm('data').as_admin"}})],1):e._e(),e._v(" "),r("v-divider"),e._v(" "),r("el-form-item",{attrs:{label:e.$t("Roles"),error:e.$thisForm().formatErrors("roles")}},[r("div",{staticClass:"c-user-roles"},[e.roles.length?[r("el-checkbox-group",{model:{value:e.$thisForm("data").roles,callback:function(t){e.$set(e.$thisForm("data"),"roles",t)},expression:"$thisForm('data').roles"}},e._l(e.roles,(function(t){return r("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.title)+"\n                            ")])})),1)]:r("v-empty",{attrs:{title:e.$t("No available roles"),icon:"icon c-icon-team",size:"md","static-height":""}})],2)]),e._v(" "),r("v-divider"),e._v(" "),r("el-form-item",{attrs:{label:e.$t("Permissions"),error:e.$thisForm().formatErrors("permissions")}},[e.permissions?r("el-tree",{ref:"permissions",attrs:{data:e.permissions,props:{label:"title",children:"permissions"},"default-checked-keys":e.$thisForm("data").permissions,"node-key":"name","show-checkbox":""},on:{check:e.syncPermissions}}):r("v-empty",{attrs:{title:e.$t("No available permissions"),icon:"fal fa-gavel",size:"md","static-height":""}})],1),e._v(" "),r("v-divider"),e._v(" "),r("el-button",{attrs:{size:"small",type:"success"},on:{click:e.invite}},[e._v(e._s(e.$t("Send invitation"))+"\n            ")]),e._v(" "),r("el-button",{attrs:{size:"small"},on:{click:e.cancel}},[e._v(e._s(e.$t("Cancel"))+"\n            ")])],1)]},proxy:!0}])})}),[],!1,null,null,null);t.default=f.exports},241:function(e,t,r){"use strict";var s=r(23),n=r(6);s.b.register("users.list",(function(e){e.push(Object(n.$t)("Users"),"users.list")})),s.b.register("users.create",(function(e){e.parent("users.list"),e.push(Object(n.$t)("New user"),"users.create")})),s.b.register("users.view",(function(e,t){var r=t.user;e.parent("users.list"),e.push(r.full_name,{name:"users.view",params:{userId:r.id}})})),s.b.register("users.edit",(function(e,t){var r=t.user;e.parent("users.view",{user:r}),e.push(Object(n.$t)("Edit"),{name:"users.edit",params:{userId:r.id}})})),t.a=s.b},249:function(e,t){var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=r},250:function(e,t,r){"use strict";var s=r(62),n=r.n(s),a=r(45),o=r.n(a),i=r(256),l=r.n(i),c=r(0),u=r.n(c),f=r(7);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d={props:{form:{required:!0,type:Object},isEditPage:{type:Boolean,default:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(r,!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(f.mapState)("system",["user"])),data:function(){return{gravatar:null,formWatcher:null}},mounted:function(){var e=this;this.$data.formWatcher=this.$props.form.watch("email",(function(t){return e.fetchGravatar(t)})),this.fetchGravatar(this.$props.form.data.email)},destroyed:function(){this.$data.formWatcher(),this.$data.formWatcher=null},methods:{debounceFetchGravatar:u.a.debounce((function(e){this.fetchGravatar(e)}),1e3),fetchGravatar:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===t)return null;if(""===t)return this.gravatar=null;var r=l()(n()(o()(t))),s=document.createElement("img");s.src="https://www.gravatar.com/avatar/".concat(r,"?s=120&d=404"),s.onload=function(){return e.gravatar=s.src},s.onerror=function(){return e.gravatar=null}}}},b=r(1),h=Object(b.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-panel",{staticClass:"c-user-general",attrs:{title:e.$t("Personal information"),description:e.$t("General information about user"),annotated:""}},[r("v-panel",[r("div",{staticClass:"u-unwrap-bottom"},[r("el-form-item",{attrs:{label:e.$t("First name"),error:e.form.formatErrors("first_name")}},[r("el-input",{model:{value:e.form.data.first_name,callback:function(t){e.$set(e.form.data,"first_name",t)},expression:"form.data.first_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("Last name"),error:e.form.formatErrors("last_name")}},[r("el-input",{model:{value:e.form.data.last_name,callback:function(t){e.$set(e.form.data,"last_name",t)},expression:"form.data.last_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("E-mail"),error:e.form.formatErrors("email")}},[r("el-input",{attrs:{type:"email"},model:{value:e.form.data.email,callback:function(t){e.$set(e.form.data,"email",t)},expression:"form.data.email"}})],1),e._v(" "),e.user.is_admin?r("el-form-item",{staticClass:"el-form-item--inline",attrs:{label:e.$t("Banned"),error:e.form.formatErrors("is_banned")}},[r("el-switch",{model:{value:e.form.data.is_banned,callback:function(t){e.$set(e.form.data,"is_banned",t)},expression:"form.data.is_banned"}})],1):e._e(),e._v(" "),e.user.is_admin?r("el-form-item",{staticClass:"el-form-item--inline",attrs:{label:e.$t("Active"),error:e.form.formatErrors("is_active")}},[r("el-switch",{model:{value:e.form.data.is_active,callback:function(t){e.$set(e.form.data,"is_active",t)},expression:"form.data.is_active"}})],1):e._e(),e._v(" "),e.user.is_admin?r("el-form-item",{staticClass:"el-form-item--inline",attrs:{label:e.$t("Administrator"),error:e.form.formatErrors("is_admin")}},[r("el-switch",{model:{value:e.form.data.is_admin,callback:function(t){e.$set(e.form.data,"is_admin",t)},expression:"form.data.is_admin"}})],1):e._e()],1)])],1)}),[],!1,null,null,null).exports,v={props:{form:{required:!0,type:Object}}},y=Object(b.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-panel",{attrs:{title:e.$t("Security"),description:e.$t("Password changing"),annotated:""}},[r("v-panel",[r("div",{staticClass:"u-unwrap-bottom"},[r("div",{staticClass:"row row--sm"},[r("div",{staticClass:"col-6"},[r("el-form-item",{attrs:{label:e.$t("Password"),error:e.form.formatErrors("password")}},[r("el-input",{attrs:{type:"password"},model:{value:e.form.data.password,callback:function(t){e.$set(e.form.data,"password",t)},expression:"form.data.password"}})],1)],1),e._v(" "),r("div",{staticClass:"col-6"},[r("el-form-item",{attrs:{label:e.$t("Confirm password"),error:e.form.formatErrors("password_confirmation")}},[r("el-input",{attrs:{type:"password"},model:{value:e.form.data.password_confirmation,callback:function(t){e.$set(e.form.data,"password_confirmation",t)},expression:"form.data.password_confirmation"}})],1)],1)])])])],1)}),[],!1,null,null,null).exports,g={props:{form:{required:!0,type:Object},roles:{type:Array,default:function(){return[]}}}},O=Object(b.a)(g,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-panel",{attrs:{title:e.$t("Roles"),description:e.$t("Available roles list"),annotated:""}},[r("v-panel",[r("el-form-item",{attrs:{error:e.form.formatErrors("roles")}},[r("div",{staticClass:"c-user-roles"},[e.roles.length?[r("el-checkbox-group",{model:{value:e.form.data.roles,callback:function(t){e.$set(e.form.data,"roles",t)},expression:"form.data.roles"}},e._l(e.roles,(function(t){return r("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.title))])})),1)]:r("v-empty",{attrs:{title:e.$t("No roles available"),icon:"icon c-icon-team",size:"md","static-height":""}})],2)])],1)],1)}),[],!1,null,null,null).exports,_={props:{form:{required:!0,type:Object},permissions:{type:Array,default:function(){return[]}},leafOnlyPermissions:{type:Object,default:null}},computed:{selected:function(){var e=this;return this.$props.form.data.permissions.filter((function(t){return e.$props.leafOnlyPermissions.hasOwnProperty(t)}))}},methods:{syncPermissions:function(){this.$props.form.fill({permissions:this.$lodash.concat(this.$refs.permissions.getCheckedKeys(),this.$refs.permissions.getHalfCheckedKeys())})}}};function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j={components:{GeneralBlock:h,SecurityBlock:y,RolesBlock:O,PermissionsBlock:Object(b.a)(_,(function(){var e=this.$createElement,t=this._self._c||e;return t("v-panel",{attrs:{title:this.$t("Access rights"),description:this.$t("Available rights list"),annotated:"",last:""}},[t("v-panel",[t("el-form-item",[this.permissions.length?t("el-tree",{ref:"permissions",attrs:{data:this.permissions,props:{label:"title",children:"permissions"},"default-checked-keys":this.selected,"node-key":"name","show-checkbox":""},on:{check:this.syncPermissions}}):t("v-empty",{attrs:{title:this.$t("No rights available"),icon:"fal fa-gavel",size:"md","static-height":""}})],1)],1)],1)}),[],!1,null,null,null).exports},props:{form:{required:!0,type:Object},permissions:{type:Array,default:function(){return[]}},leafOnlyPermissions:{type:Object,default:null},roles:{type:Array,default:function(){return[]}}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(r,!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(f.mapState)("system",["user"])),methods:{onSubmit:function(){this.$emit("submit",this.$props.form)}}},P=Object(b.a)(j,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"u-page"},[r("el-form",{attrs:{"label-position":"top"},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[r("general-block",{attrs:{form:e.form}}),e._v(" "),r("security-block",{attrs:{form:e.form}}),e._v(" "),e.user.is_admin?r("roles-block",{attrs:{form:e.form,roles:e.roles}}):e._e(),e._v(" "),r("el-button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{"native-type":"submit"}})],1)],1)}),[],!1,null,null,null);t.a=P.exports},256:function(e,t,r){var s,n,a,o,i;s=r(257),n=r(249).utf8,a=r(258),o=r(249).bin,(i=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?o.stringToBytes(e):n.stringToBytes(e):a(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var r=s.bytesToWords(e),l=8*e.length,c=1732584193,u=-271733879,f=-1732584194,m=271733878,p=0;p<r.length;p++)r[p]=16711935&(r[p]<<8|r[p]>>>24)|4278255360&(r[p]<<24|r[p]>>>8);r[l>>>5]|=128<<l%32,r[14+(l+64>>>9<<4)]=l;var d=i._ff,b=i._gg,h=i._hh,v=i._ii;for(p=0;p<r.length;p+=16){var y=c,g=u,O=f,_=m;c=d(c,u,f,m,r[p+0],7,-680876936),m=d(m,c,u,f,r[p+1],12,-389564586),f=d(f,m,c,u,r[p+2],17,606105819),u=d(u,f,m,c,r[p+3],22,-1044525330),c=d(c,u,f,m,r[p+4],7,-176418897),m=d(m,c,u,f,r[p+5],12,1200080426),f=d(f,m,c,u,r[p+6],17,-1473231341),u=d(u,f,m,c,r[p+7],22,-45705983),c=d(c,u,f,m,r[p+8],7,1770035416),m=d(m,c,u,f,r[p+9],12,-1958414417),f=d(f,m,c,u,r[p+10],17,-42063),u=d(u,f,m,c,r[p+11],22,-1990404162),c=d(c,u,f,m,r[p+12],7,1804603682),m=d(m,c,u,f,r[p+13],12,-40341101),f=d(f,m,c,u,r[p+14],17,-1502002290),c=b(c,u=d(u,f,m,c,r[p+15],22,1236535329),f,m,r[p+1],5,-165796510),m=b(m,c,u,f,r[p+6],9,-1069501632),f=b(f,m,c,u,r[p+11],14,643717713),u=b(u,f,m,c,r[p+0],20,-373897302),c=b(c,u,f,m,r[p+5],5,-701558691),m=b(m,c,u,f,r[p+10],9,38016083),f=b(f,m,c,u,r[p+15],14,-660478335),u=b(u,f,m,c,r[p+4],20,-405537848),c=b(c,u,f,m,r[p+9],5,568446438),m=b(m,c,u,f,r[p+14],9,-1019803690),f=b(f,m,c,u,r[p+3],14,-187363961),u=b(u,f,m,c,r[p+8],20,1163531501),c=b(c,u,f,m,r[p+13],5,-1444681467),m=b(m,c,u,f,r[p+2],9,-51403784),f=b(f,m,c,u,r[p+7],14,1735328473),c=h(c,u=b(u,f,m,c,r[p+12],20,-1926607734),f,m,r[p+5],4,-378558),m=h(m,c,u,f,r[p+8],11,-2022574463),f=h(f,m,c,u,r[p+11],16,1839030562),u=h(u,f,m,c,r[p+14],23,-35309556),c=h(c,u,f,m,r[p+1],4,-1530992060),m=h(m,c,u,f,r[p+4],11,1272893353),f=h(f,m,c,u,r[p+7],16,-155497632),u=h(u,f,m,c,r[p+10],23,-1094730640),c=h(c,u,f,m,r[p+13],4,681279174),m=h(m,c,u,f,r[p+0],11,-358537222),f=h(f,m,c,u,r[p+3],16,-722521979),u=h(u,f,m,c,r[p+6],23,76029189),c=h(c,u,f,m,r[p+9],4,-640364487),m=h(m,c,u,f,r[p+12],11,-421815835),f=h(f,m,c,u,r[p+15],16,530742520),c=v(c,u=h(u,f,m,c,r[p+2],23,-995338651),f,m,r[p+0],6,-198630844),m=v(m,c,u,f,r[p+7],10,1126891415),f=v(f,m,c,u,r[p+14],15,-1416354905),u=v(u,f,m,c,r[p+5],21,-57434055),c=v(c,u,f,m,r[p+12],6,1700485571),m=v(m,c,u,f,r[p+3],10,-1894986606),f=v(f,m,c,u,r[p+10],15,-1051523),u=v(u,f,m,c,r[p+1],21,-2054922799),c=v(c,u,f,m,r[p+8],6,1873313359),m=v(m,c,u,f,r[p+15],10,-30611744),f=v(f,m,c,u,r[p+6],15,-1560198380),u=v(u,f,m,c,r[p+13],21,1309151649),c=v(c,u,f,m,r[p+4],6,-145523070),m=v(m,c,u,f,r[p+11],10,-1120210379),f=v(f,m,c,u,r[p+2],15,718787259),u=v(u,f,m,c,r[p+9],21,-343485551),c=c+y>>>0,u=u+g>>>0,f=f+O>>>0,m=m+_>>>0}return s.endian([c,u,f,m])})._ff=function(e,t,r,s,n,a,o){var i=e+(t&r|~t&s)+(n>>>0)+o;return(i<<a|i>>>32-a)+t},i._gg=function(e,t,r,s,n,a,o){var i=e+(t&s|r&~s)+(n>>>0)+o;return(i<<a|i>>>32-a)+t},i._hh=function(e,t,r,s,n,a,o){var i=e+(t^r^s)+(n>>>0)+o;return(i<<a|i>>>32-a)+t},i._ii=function(e,t,r,s,n,a,o){var i=e+(r^(t|~s))+(n>>>0)+o;return(i<<a|i>>>32-a)+t},i._blocksize=16,i._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var r=s.wordsToBytes(i(e,t));return t&&t.asBytes?r:t&&t.asString?o.bytesToString(r):s.bytesToHex(r)}},257:function(e,t){var r,s;r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&s.rotl(e,8)|4278255360&s.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=s.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,s=0;r<e.length;r++,s+=8)t[s>>>5]|=e[r]<<24-s%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var t=[],s=0;s<e.length;s+=3)for(var n=e[s]<<16|e[s+1]<<8|e[s+2],a=0;a<4;a++)8*s+6*a<=8*e.length?t.push(r.charAt(n>>>6*(3-a)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],s=0,n=0;s<e.length;n=++s%4)0!=n&&t.push((r.indexOf(e.charAt(s-1))&Math.pow(2,-2*n+8)-1)<<2*n|r.indexOf(e.charAt(s))>>>6-2*n);return t}},e.exports=s},258:function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}}}]);