(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{216:function(e,t,s){"use strict";s.r(t);var i=s(7),r=(s(10),s(9),s(36)),n=s(2),a=s(245);function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(s,!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var u={mixins:[r.b],computed:l({breadcrumbs:function(){return a.a.generate("schedules.list")}},Object(n.b)([{name:"list.fetch",process:"schedules@list.fetch"}])),data:function(){return{items:[],pagination:null,tourId:parseInt(this.$routeParam("tourId")),tour:null}},created:function(){this.$listenCycle("schedules@list.fetch",this.list)},beforeRouteEnter:function(e,t,s){return s((function(t){return regeneratorRuntime.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(t.$filters("schedules").restoreFromUrl(e.name));case 2:t.$filters("schedules").data.tour_id=e.params.tourId,t.lock(t.list(),t.view());case 4:case"end":return s.stop()}}))}))},beforeRouteUpdate:function(e,t,s){this.$filters("schedules").data.tour_id=e.params.tourId,this.list(),this.view(),s()},methods:l({userTitle:function(e){return e.full_name},onClickCreate:function(){this.$router.push({name:"schedules.create"})},fill:function(e){this.items=e.items,this.pagination=e.pagination},close:function(){this.$router.push({name:"schedules.list"})},onChangePage:function(e){this.$filters("schedules").data.page=e,this.list()}},Object(i.mapActions)("schedules",{list:function(e){var t;return regeneratorRuntime.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(e("list"));case 2:t=s.sent,this.fill(t);case 4:case"end":return s.stop()}}),null,this)}}),{},Object(i.mapActions)("tours",{view:function(e){var t,s,i=arguments;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:null,r.next=3,regeneratorRuntime.awrap(e("view",{tourId:this.$filters("schedules").data.tour_id}));case 3:t=r.sent,s=t.view,this.$data.tour=s;case 6:case"end":return r.stop()}}),null,this)}}))},d=s(1),f=Object(d.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-layout",{attrs:{locked:e.locked,breadcrumbs:e.breadcrumbs},on:{"close-sidebar":e.close},scopedSlots:e._u([{key:"content",fn:function(t){var i=t.locked;return[s("v-scroll",{staticClass:"col-xl-6",attrs:{locked:i}},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"pt-20"},[s("v-search-panel",{on:{search:e.list},model:{value:e.$filters("schedules").data.term,callback:function(t){e.$set(e.$filters("schedules").data,"term",t)},expression:"$filters('schedules').data.term"}})],1)]),e._v(" "),s("v-content-list",{staticClass:"col-inner",attrs:{items:e.items,pagination:e.pagination},on:{"change-page":e.onChangePage},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.item;return[s("v-list-item",{key:i.id,attrs:{data:i,route:{name:"schedules.view",params:{scheduleId:i.id},query:{tour_id:e.$filters("schedules").data.tour_id}},"title-by":e.userTitle,"description-by":"tour.name"},scopedSlots:e._u([{key:"aside",fn:function(){return[s("div",{staticClass:"c-list__aside-item"},[s("div",{staticClass:"c-list__aside-text"},[e._v(e._s(e.$t("Today"))+":")])]),e._v(" "),s("div",{staticClass:"c-list__aside-item"},[s("el-tag",{attrs:{size:"small"}},[e._v(e._s(i.today_schedules_count))])],1),e._v(" "),s("div",{staticClass:"c-list__aside-item"},[s("div",{staticClass:"c-list__aside-text"},[e._v(e._s(e.$t("Tomorrow"))+":")])]),e._v(" "),s("div",{staticClass:"c-list__aside-item"},[s("el-tag",{attrs:{size:"small"}},[e._v(e._s(i.tomorrow_schedules_count))])],1)]},proxy:!0}],null,!0)})]}}],null,!0)})],1),e._v(" "),s("div",{staticClass:"col-xl-6 d-none d-xl-flex u-border-left"},[s("div",{staticClass:"c-aside-icon"},[s("div",{staticClass:"c-aside-icon__inner"},[s("i",{staticClass:"icon fal fa-calendar-edit"}),e._v(" "),s("div",{staticClass:"title"},[e._v(e._s(e.$t("Sessions")))])])])])]}}])})}),[],!1,null,null,null);t.default=f.exports},245:function(e,t,s){"use strict";var i=s(23),r=s(6);i.b.register("schedules.list",(function(e){e.push(Object(r.$t)("Sessions"),"schedules.list")})),t.a=i.b}}]);