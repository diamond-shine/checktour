(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{223:function(t,e,r){"use strict";r.r(e);var o=r(7),n=(r(247),r(10),r(36));function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var u={components:{ModelForm:r(253).a},mixins:[n.b],data:function(){return{formData:null,tour:null}},beforeRouteEnter:function(t,e,r){return r((function(t){return t.lock(t.create())}))},computed:{backRoute:function(){return{name:"tour-options.list"}}},methods:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(r,!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({onClickCancel:function(){this.$refs.form.restore(),this.$router.push(this.backRoute)}},Object(o.mapActions)("tour-options",{create:function(t){var e,r;return regeneratorRuntime.async((function(o){for(;;)switch(o.prev=o.next){case 0:return this.viewTour(),o.next=3,regeneratorRuntime.awrap(t("create",{tourId:this.$routeParam("tourId")}));case 3:e=o.sent,r=e.form,this.$data.formData=r;case 6:case"end":return o.stop()}}),null,this)},store:function(t,e){var r,o;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(t("store",{tourId:this.$routeParam("tourId"),form:e}));case 2:return r=n.sent,o=r.form,n.next=6,regeneratorRuntime.awrap(e.setData(o));case 6:this.$ee.emit("tour-options@list.fetch"),this.$router.push(this.backRoute);case 8:case"end":return n.stop()}}),null,this)}}),{},Object(o.mapActions)("tours",{viewTour:function(t){var e,r,o,n=arguments;return regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=n.length>1&&void 0!==n[1]?n[1]:null,a.next=3,regeneratorRuntime.awrap(t("view",{tourId:e||this.$routeParam("tourId")}));case 3:r=a.sent,o=r.view,this.$data.tour=o;case 6:case"end":return a.stop()}}),null,this)}}))},s=r(1),c=Object(s.a)(u,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-sidebar-layout",{attrs:{locked:t.locked},scopedSlots:t._u([{key:"header",fn:function(){return[r("v-sidebar-layout-header",{attrs:{title:t.$t("New tour option"),"back-route":t.backRoute}})]},proxy:!0},{key:"body",fn:function(){return[r("v-form",{ref:"form",attrs:{data:t.formData,name:"tour-options"},on:{submit:t.store},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.form,n=e.submit;return[r("model-form",{attrs:{tour:t.tour,form:o},on:{submit:n}},[r("el-button",{attrs:{type:"success","native-type":"submit"}},[t._v(t._s(t.$t("Create"))+"\n                ")]),t._v(" "),r("el-button",{on:{click:t.onClickCancel}},[t._v(t._s(t.$t("Cancel"))+"\n                ")])],1)]}}])})]},proxy:!0}])})}),[],!1,null,null,null);e.default=c.exports},226:function(t,e,r){"use strict";r.r(e);var o=r(7),n=(r(10),r(36)),a=r(253),i=r(2);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(r,!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l={mixins:[n.b],components:{ModelForm:a.a},data:function(){return{formData:null,tour:null}},beforeRouteEnter:function(t,e,r){return r((function(t){return t.lock(t.edit())}))},beforeRouteUpdate:function(t,e,r){t.params.tourOptionId!==e.params.tourOptionId&&this.lock(this.edit()),r()},computed:s({backRoute:function(){return{name:"tour-options.view",params:{tourOptionId:this.$routeParam("tourOptionId")}}}},Object(i.b)([{name:"tour-options.update",process:"tour-options@edit.update"}])),methods:s({onClickCancel:function(){this.$refs.form.restore(),this.$router.push(this.backRoute)}},Object(o.mapActions)("tour-options",{edit:function(t){var e,r;return regeneratorRuntime.async((function(o){for(;;)switch(o.prev=o.next){case 0:return this.viewTour(),o.next=3,regeneratorRuntime.awrap(t("edit",{tourId:this.$routeParam("tourId"),tourOptionId:this.$routeParam("tourOptionId")}));case 3:e=o.sent,r=e.form,Array.isArray(r.bookeo_id)||(r.bookeo_id=[r.bookeo_id]),this.$data.formData=r;case 7:case"end":return o.stop()}}),null,this)},update:function(t,e){var r,o;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(t("update",{tourId:this.$routeParam("tourId"),tourOptionId:this.$routeParam("tourOptionId"),form:e}));case 2:return r=n.sent,o=r.form,n.next=6,regeneratorRuntime.awrap(e.setData(o));case 6:this.$ee.emit("tour-options@list.fetch"),this.$router.push(this.backRoute);case 8:case"end":return n.stop()}}),null,this)}}),{},Object(o.mapActions)("tours",{viewTour:function(t){var e,r,o,n=arguments;return regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=n.length>1&&void 0!==n[1]?n[1]:null,a.next=3,regeneratorRuntime.awrap(t("view",{tourId:e||this.$routeParam("tourId")}));case 3:r=a.sent,o=r.view,this.$data.tour=o;case 6:case"end":return a.stop()}}),null,this)}}))},f=r(1),m=Object(f.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-sidebar-layout",{attrs:{locked:t.locked},scopedSlots:t._u([{key:"header",fn:function(){return[r("v-sidebar-layout-header",{attrs:{title:t.$t("Edit tour option"),"back-route":t.backRoute}})]},proxy:!0},{key:"body",fn:function(){return[r("v-form",{ref:"form",attrs:{data:t.formData,name:"tour-options"},on:{submit:t.update},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.form,n=e.submit;return[r("model-form",{attrs:{tour:t.tour,form:o},on:{submit:n}},[r("el-button",{attrs:{type:"success","native-type":"submit"}},[t._v(t._s(t.$t("Save"))+"\n                ")]),t._v(" "),r("el-button",{on:{click:t.onClickCancel}},[t._v(t._s(t.$t("Cancel"))+"\n                ")])],1)]}}])})]},proxy:!0}])})}),[],!1,null,null,null);e.default=m.exports},239:function(t,e,r){"use strict";var o=r(23),n=r(6);o.b.register("tours.list",(function(t){t.push(Object(n.$t)("Tours"),"tours.list")})),o.b.register("tours.view",(function(t,e){t.parent("tours.list"),t.push(e.name,{name:"tours.view",params:{tourId:e.id}})})),e.a=o.b},247:function(t,e,r){"use strict";var o=r(23),n=(r(239),r(6));o.b.register("tour-options.list",(function(t,e){t.parent("tours.view",e),t.push(Object(n.$t)("Tour options"),"tour-options.list")})),e.a=o.b},253:function(t,e,r){"use strict";var o={props:{form:{type:Object,required:!0},disabled:{type:Boolean,default:!1},tour:{type:Object,required:!0}},data:function(){return{lock:!0,term:""}},computed:{iconClass:function(){return this.lock?"fal fa-lock-alt":"fal fa-unlock-alt"}},methods:{addItem:function(){this.form.data.bookeo_id.push("")},removeItem:function(t){var e=this.form.data.bookeo_id.findIndex((function(e){return t==e}));e>=0&&this.form.data.bookeo_id.splice(e,1)},onSearch:function(t){this.$data.term=t},onSubmit:function(){this.$props.form.tour_id=this.tour.id,this.$emit("submit",this.$props.form)},toggle:function(){this.$data.lock=!this.$data.lock}},beforeMount:function(){this.form.data.bookeo_id||(this.form.data.bookeo_id=[""])}},n=r(1),a=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-form",{attrs:{disabled:t.disabled,"label-position":"top"},nativeOn:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[r("el-form-item",{attrs:{label:t.$t("Tour"),error:t.form.formatErrors("tour_id"),required:""}},[r("el-input",{attrs:{disabled:!0},model:{value:t.tour.name,callback:function(e){t.$set(t.tour,"name",e)},expression:"tour.name"}})],1),t._v(" "),r("el-form-item",{attrs:{label:t.$t("Name"),error:t.form.formatErrors("name"),required:""}},[r("el-input",{model:{value:t.form.data.name,callback:function(e){t.$set(t.form.data,"name",e)},expression:"form.data.name"}})],1),t._v(" "),r("el-form-item",{staticClass:"mb-0",attrs:{label:t.$t("Bookeo identifier 2"),error:t.form.formatErrors("bookeo_id"),required:""}},[t._l(t.form.data.bookeo_id,(function(e,o){return[r("el-input",{key:o,staticClass:"mb-20",model:{value:t.form.data.bookeo_id[o],callback:function(e){t.$set(t.form.data.bookeo_id,o,e)},expression:"form.data.bookeo_id[n]"}},[o==t.form.data.bookeo_id.length-1?r("i",{staticClass:"el-input__icon",class:"fal fa-plus",attrs:{slot:"suffix"},on:{click:function(e){return e.preventDefault(),t.addItem()}},slot:"suffix"}):r("i",{staticClass:"el-input__icon",class:"fal fa-times",attrs:{slot:"suffix"},on:{click:function(r){return r.preventDefault(),t.removeItem(e)}},slot:"suffix"})])]}))],2),t._v(" "),r("el-form-item",{attrs:{label:t.$t("Active"),error:t.form.formatErrors("is_active")}},[r("el-switch",{model:{value:t.form.data.is_active,callback:function(e){t.$set(t.form.data,"is_active",e)},expression:"form.data.is_active"}})],1),t._v(" "),r("v-divider"),t._v(" "),t._t("default")],2)}),[],!1,null,null,null);e.a=a.exports}}]);