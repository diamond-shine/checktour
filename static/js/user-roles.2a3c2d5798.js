(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{207:function(e,t,r){"use strict";r.r(t);var s=r(7),n=(r(10),r(9),r(36)),o=r(2),a=r(23),i=r(6);r(241);a.b.register("user-roles.list",(function(e){e.parent("users.list"),e.push(Object(i.$t)("Ролі користувачів"),"user-roles.list")}));var u=a.b;function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(r,!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p={mixins:[n.b],data:function(){return{items:[],pagination:null}},computed:l({breadcrumbs:u.make("user-roles.list")},Object(o.b)([{name:"list.fetch",process:"user-roles@list.fetch"}])),beforeRouteEnter:function(e,t,r){return r((function(t){return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(t.$filters("user-roles").restoreFromUrl(e.name));case 2:t.lock(t.list());case 3:case"end":return r.stop()}}))}))},created:function(){this.$listenCycle("user-roles@list.fetch",this.list)},destroyed:function(){this.$filters("user-roles").clear()},methods:l({fill:function(e){this.$data.items=e.items,this.$data.pagination=e.pagination},close:function(){this.$router.push({name:"user-roles.list"})},onClickCreate:function(){this.$router.push({name:"user-roles.create"})},onChangePage:function(e){this.$filters("user-roles").data.page=e,this.list()}},Object(s.mapActions)("user-roles",{list:function(e){var t;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(e("list"));case 2:t=r.sent,this.fill(t);case 4:case"end":return r.stop()}}),null,this)}}))},d=r(1),m=Object(d.a)(p,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{locked:e.locked,breadcrumbs:e.breadcrumbs},on:{"close-sidebar":e.close},scopedSlots:e._u([{key:"actions",fn:function(){return[r("div",{staticClass:"o-layout__header-actions"},[e.$can("user-roles.create")?r("div",{staticClass:"o-layout__header-group"},[r("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.onClickCreate}},[e._v(e._s(e.$t("Створити роль користувача"))+"\n                ")])],1):e._e()])]},proxy:!0},{key:"content",fn:function(t){var s=t.locked;return[r("v-scroll",{staticClass:"col-xl-6",attrs:{locked:s}},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"pt-20"},[r("v-search-panel",{attrs:{disabled:e.psListFetch},on:{search:e.list},model:{value:e.$filters("user-roles").data.term,callback:function(t){e.$set(e.$filters("user-roles").data,"term",t)},expression:"$filters('user-roles').data.term"}})],1)]),e._v(" "),r("v-content-list",{staticClass:"col-inner",attrs:{loading:e.psListFetch,items:e.items,pagination:e.pagination},on:{"change-page":e.onChangePage},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.item;return[r("v-list-item",{key:t.id,attrs:{data:t,route:{name:"user-roles.view",params:{userRoleId:t.id}},"title-by":"name"}})]}}],null,!0)})],1),e._v(" "),r("div",{staticClass:"col-xl-6 d-none d-xl-flex u-border-left"},[r("div",{staticClass:"c-aside-icon"},[r("div",{staticClass:"c-aside-icon__inner"},[r("i",{staticClass:"icon c-icon-team"}),e._v(" "),r("div",{staticClass:"title"},[e._v(e._s(e.$t("Ролі користувачів")))])])])])]}}])})}),[],!1,null,null,null);t.default=m.exports},231:function(e,t,r){"use strict";r.r(t);var s=r(2),n=r(7),o=(r(10),r(36));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(r,!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={components:{ModelForm:r(255).a},mixins:[o.b],data:function(){return{formData:null,permissions:[]}},computed:i({backRoute:function(){return{name:"user-roles.list"}}},Object(s.b)([{name:"create.store",process:"user-roles@create.store"}])),beforeRouteEnter:function(e,t,r){return r((function(e){return e.lock(e.create())}))},methods:i({onClickCancel:function(){this.$refs.form.restore(),this.$router.push(this.backRoute)}},Object(n.mapActions)("user-roles",{create:function(e){var t,r,s;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(e("create"));case 2:t=n.sent,r=t.form,s=t.permissions,this.$data.formData=r,this.$data.permissions=s;case 7:case"end":return n.stop()}}),null,this)},store:function(e,t){var r,s;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(e("store",{form:t}));case 2:return r=n.sent,s=r.form,n.next=6,regeneratorRuntime.awrap(t.setData(s));case 6:this.$ee.emit("user-roles@list.fetch"),this.$router.push(this.backRoute);case 8:case"end":return n.stop()}}),null,this)}}))},l=r(1),f=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-sidebar-layout",{attrs:{locked:e.locked},scopedSlots:e._u([{key:"header",fn:function(){return[r("v-sidebar-layout-header",{attrs:{title:e.$t("Нова роль користувача"),"back-route":e.backRoute}})]},proxy:!0},{key:"body",fn:function(){return[r("v-form",{ref:"form",attrs:{data:e.formData,name:"user-role"},on:{submit:e.store},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.form,n=t.submit;return[r("model-form",{attrs:{disabled:e.psCreateStore,form:s,permissions:e.permissions},on:{submit:n}},[r("el-button",{attrs:{type:"success","native-type":"submit"}},[e._v(e._s(e.$t("Створити"))+"\n                ")]),e._v(" "),r("el-button",{on:{click:e.onClickCancel}},[e._v(e._s(e.$t("Скасувати"))+"\n                ")])],1)]}}])})]},proxy:!0}])})}),[],!1,null,null,null);t.default=f.exports},232:function(e,t,r){"use strict";r.r(t);var s=r(2),n=r(7);r(10);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(r,!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={mixins:[r(36).b],data:function(){return{model:null}},computed:a({backRoute:function(){return{name:"user-roles.list"}}},Object(s.b)([{name:"view.fetch",process:"user-roles@view.fetch"}])),beforeRouteEnter:function(e,t,r){return r((function(e){return e.lock(e.view())}))},beforeRouteUpdate:function(e,t,r){e.params.userRoleId!==t.params.userRoleId&&this.lock(this.view()),r()},methods:a({},Object(n.mapActions)("user-roles",{view:function(e){var t,r;return regeneratorRuntime.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(e("view",{userRoleId:this.$routeParam("userRoleId")}));case 2:t=s.sent,r=t.view,this.$data.model=r;case 5:case"end":return s.stop()}}),null,this)},destroy:function(e){return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.$vConfirmDelete(this.$t("Видалити роль користувача?")));case 2:return t.next=4,regeneratorRuntime.awrap(e("destroy",{userRoleId:this.$data.model.id}));case 4:this.$ee.emit("user-roles@list.fetch"),this.$router.push(this.backRoute);case 6:case"end":return t.stop()}}),null,this)}}))},c=r(1),l=Object(c.a)(u,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-sidebar-layout",{attrs:{locked:e.locked},scopedSlots:e._u([{key:"header",fn:function(){return[r("v-sidebar-layout-header",{attrs:{title:e.$t("Картка ролі користувача"),"back-route":e.backRoute},scopedSlots:e._u([{key:"right",fn:function(){return[e.$can("user-roles.edit")?r("router-link",{staticClass:"btn",attrs:{to:{name:"user-roles.edit",params:{userRoleId:e.$routeParam("userRoleId")}},title:e.$t("Редагувати"),"aria-label":e.$t("Редагувати")}},[r("i",{staticClass:"icon fal fa-edit"})]):e._e()]},proxy:!0}])})]},proxy:!0},{key:"body",fn:function(){return[r("v-form-preview",{attrs:{label:e.$t("Назва"),value:e.model.title}}),e._v(" "),r("v-form-preview",{attrs:{label:e.$t("Ключ"),value:e.model.name}})]},proxy:!0},{key:"footer",fn:function(){return[e.$can("user-roles.delete")?r("button",{staticClass:"c-delete-btn",attrs:{type:"button"},on:{click:e.destroy}},[r("i",{staticClass:"icon fal fa-trash-alt",attrs:{"aria-hidden":"true"}}),e._v(" "),r("span",{staticClass:"title"},[e._v(e._s(e.$t("Видалити")))])]):e._e()]},proxy:!0}])})}),[],!1,null,null,null);t.default=l.exports},233:function(e,t,r){"use strict";r.r(t);var s=r(2),n=r(7),o=(r(10),r(36));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(r,!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={components:{ModelForm:r(255).a},mixins:[o.b],data:function(){return{formData:null,permissions:[]}},computed:i({backRoute:function(){return{name:"user-roles.view",params:{userRoleId:this.$routeParam("userRoleId")}}}},Object(s.b)([{name:"edit.update",process:"user-roles@edit.update"}])),beforeRouteEnter:function(e,t,r){return r((function(e){return e.lock(e.edit())}))},beforeRouteUpdate:function(e,t,r){e.params.userRoleId!==t.params.userRoleId&&this.lock(this.edit()),r()},methods:i({onClickCancel:function(){this.$refs.form.restore(),this.$router.push(this.backRoute)}},Object(n.mapActions)("user-roles",{edit:function(e){var t,r,s;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(e("edit",{userRoleId:this.$routeParam("userRoleId")}));case 2:t=n.sent,r=t.form,s=t.permissions,this.$data.formData=r,this.$data.permissions=s;case 7:case"end":return n.stop()}}),null,this)},update:function(e,t){var r,s;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(e("update",{userRoleId:this.$routeParam("userRoleId"),form:t}));case 2:return r=n.sent,s=r.form,n.next=6,regeneratorRuntime.awrap(t.setData(s));case 6:this.$ee.emit("user-roles@list.fetch"),this.$router.push(this.backRoute);case 8:case"end":return n.stop()}}),null,this)}}))},l=r(1),f=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-sidebar-layout",{attrs:{locked:e.locked},scopedSlots:e._u([{key:"header",fn:function(){return[r("v-sidebar-layout-header",{attrs:{title:e.$t("Редагування ролі користувача"),"back-route":e.backRoute}})]},proxy:!0},{key:"body",fn:function(){return[r("v-form",{ref:"form",attrs:{data:e.formData,name:"user-role"},on:{submit:e.update},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.form,n=t.submit;return[r("model-form",{attrs:{disabled:e.psEditUpdate,form:s,permissions:e.permissions},on:{submit:n}},[r("el-button",{attrs:{type:"success","native-type":"submit"}},[e._v(e._s(e.$t("Save"))+"\n                ")]),e._v(" "),r("el-button",{on:{click:e.onClickCancel}},[e._v(e._s(e.$t("Cancel"))+"\n                ")])],1)]}}])})]},proxy:!0}])})}),[],!1,null,null,null);t.default=f.exports},241:function(e,t,r){"use strict";var s=r(23),n=r(6);s.b.register("users.list",(function(e){e.push(Object(n.$t)("Users"),"users.list")})),s.b.register("users.create",(function(e){e.parent("users.list"),e.push(Object(n.$t)("New user"),"users.create")})),s.b.register("users.view",(function(e,t){var r=t.user;e.parent("users.list"),e.push(r.full_name,{name:"users.view",params:{userId:r.id}})})),s.b.register("users.edit",(function(e,t){var r=t.user;e.parent("users.view",{user:r}),e.push(Object(n.$t)("Edit"),{name:"users.edit",params:{userId:r.id}})})),t.a=s.b},255:function(e,t,r){"use strict";var s={props:{form:{type:Object,required:!0},disabled:{type:Boolean,default:!1},permissions:{type:Array,required:!1,default:function(){return[]}}},methods:{onSubmit:function(){this.$emit("submit",this.$props.form)},onCheckPermissions:function(){this.$props.form.fill({permissions:this.$refs.permissions.getCheckedKeys(!0)})}}},n=r(1),o=Object(n.a)(s,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{attrs:{disabled:e.disabled,"label-position":"top"},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[r("el-form-item",{attrs:{label:e.$t("Назва"),error:e.form.formatErrors("title")}},[r("el-input",{model:{value:e.form.data.title,callback:function(t){e.$set(e.form.data,"title",t)},expression:"form.data.title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("Ключ"),error:e.form.formatErrors("name")}},[r("v-slugify",{attrs:{from:e.form.data.title},model:{value:e.form.data.name,callback:function(t){e.$set(e.form.data,"name",t)},expression:"form.data.name"}})],1),e._v(" "),r("v-divider"),e._v(" "),r("el-form-item",{attrs:{label:e.$t("Права")}},[r("el-tree",{ref:"permissions",attrs:{data:e.permissions,props:{label:"title",children:"permissions"},"default-checked-keys":e.form.data.permissions,"default-expanded-keys":e.form.data.permissions,"node-key":"name","show-checkbox":""},on:{check:e.onCheckPermissions}})],1),e._v(" "),r("v-divider"),e._v(" "),e._t("default")],2)}),[],!1,null,null,null);t.a=o.exports}}]);